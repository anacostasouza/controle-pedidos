import { signInWithPopup } from "firebase/auth";
import { auth, provider } from "../services/firebase";
import { useNavigate } from "react-router-dom";
import "../styles/Login.css";

export default function Login() {
  const navigate = useNavigate();

  const handleLogin = async () => {
    try {
      const result = await signInWithPopup(auth, provider);
      const user = result.user;
      console.log("Usu√°rio logado:", user.displayName);
      navigate("/dashboard");
    } catch (error) {
      console.error("Erro ao logar:", error);
      alert("Falha no login com Google.");
    }
  };

  return (
    <div className="login-page">
      <div className="login-leftside">
        <div className="container-subtitle">
          <p className="login-subtitle">Acesse sua conta para continuar</p>
        </div>
        <div className="container-imagelogo">
          <svg className="vector1" width="243" height="347" viewBox="0 0 243 347" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M26.059 325.404C9.476 294.401 0 258.969 0 221.271C0 99.525 98.674 0.851013 220.317 0.851013C227.836 0.851013 235.149 1.26301 242.462 1.98401C242.462 2.39601 242.462 2.80801 242.462 3.22001V51.012C242.462 52.042 242.462 53.381 242.565 55.029C242.565 55.956 242.668 57.089 242.771 58.119C242.668 59.767 242.565 61.621 242.565 63.681C242.462 66.462 242.462 68.522 242.462 69.861V184.603C242.462 216.945 236.694 245.167 226.291 268.754C215.167 293.68 198.893 313.25 179.014 326.537C159.032 339.824 135.342 346.828 109.386 346.828C86.932 346.828 62.727 341.575 37.595 330.451L26.059 325.404Z" fill="#FEFEFE" />
          </svg>
          <svg className="vector2" width="409" height="515" viewBox="0 0 409 515" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M0.783997 412.206C39.924 474.006 108.831 515 187.317 515C309.269 515 408.046 416.223 408.046 294.271V124.012V76.22C408.046 75.602 408.046 74.984 408.046 74.366C408.046 74.16 408.046 74.057 408.046 73.851C408.046 73.439 408.046 73.027 407.943 72.615C407.943 72.409 407.943 72.203 407.943 71.997C407.943 71.585 407.943 71.07 407.84 70.555C407.84 70.452 407.84 70.349 407.84 70.246C407.84 69.731 407.737 69.113 407.737 68.495C407.634 68.392 407.634 68.186 407.634 68.083C407.634 67.671 407.531 67.259 407.531 66.744C407.428 66.641 407.428 66.435 407.428 66.229C407.325 65.817 407.325 65.405 407.222 64.89C407.222 64.787 407.222 64.684 407.222 64.478C407.119 63.963 407.016 63.345 406.913 62.83C406.913 62.727 406.81 62.521 406.81 62.418C406.707 62.006 406.604 61.594 406.604 61.079C406.501 60.976 406.501 60.77 406.501 60.564C406.398 60.152 406.295 59.74 406.192 59.328C406.192 59.225 406.089 59.019 406.089 58.813C405.986 58.298 405.78 57.783 405.677 57.165C405.677 57.165 405.677 57.062 405.574 56.959C405.471 56.547 405.368 56.032 405.265 55.62C405.162 55.414 405.162 55.208 405.059 55.105C404.956 54.693 404.853 54.281 404.75 53.869C404.647 53.766 404.647 53.56 404.544 53.354C404.441 52.942 404.235 52.427 404.132 51.912L404.029 51.809C403.823 51.191 403.72 50.676 403.514 50.161C403.411 50.058 403.411 49.852 403.308 49.749C403.205 49.337 402.999 48.925 402.896 48.616C402.793 48.41 402.793 48.204 402.69 48.101C402.484 47.689 402.381 47.277 402.175 46.865C402.175 46.762 402.072 46.659 402.072 46.556C401.866 46.041 401.557 45.526 401.351 45.011C401.248 44.908 401.248 44.702 401.145 44.599C401.042 44.187 400.836 43.878 400.63 43.466L400.424 42.951C400.218 42.642 400.012 42.23 399.806 41.818C399.806 41.715 399.703 41.612 399.6 41.406C399.394 40.994 399.085 40.479 398.879 39.964C398.776 39.861 398.776 39.758 398.673 39.655C398.467 39.346 398.261 38.934 398.055 38.522C397.952 38.419 397.849 38.213 397.746 38.11C397.54 37.698 397.334 37.389 397.128 37.08C397.128 36.874 397.025 36.771 396.922 36.565C396.613 36.153 396.304 35.638 395.995 35.226V35.123C395.686 34.711 395.377 34.196 395.068 33.784C395.068 33.681 394.965 33.475 394.862 33.372C394.656 33.063 394.347 32.754 394.141 32.445C394.038 32.239 393.935 32.136 393.832 31.93C393.523 31.621 393.317 31.209 393.008 30.797C393.008 30.797 392.905 30.694 392.905 30.591C392.493 30.179 392.184 29.767 391.875 29.355C391.772 29.149 391.669 29.046 391.566 28.943C391.36 28.634 391.051 28.325 390.845 28.016C390.742 27.81 390.536 27.707 390.433 27.604C390.227 27.295 389.918 26.883 389.609 26.574C389.506 26.471 389.506 26.368 389.403 26.265C388.991 25.853 388.682 25.441 388.27 25.132C388.167 25.029 388.064 24.926 388.064 24.823C387.755 24.514 387.446 24.205 387.137 23.896C387.034 23.69 386.931 23.587 386.828 23.484C386.519 23.175 386.21 22.866 385.901 22.557C385.798 22.454 385.695 22.351 385.592 22.248C385.18 21.836 384.768 21.527 384.459 21.115C384.356 21.012 384.253 21.012 384.253 21.012C383.944 20.6 383.532 20.291 383.223 19.982C383.12 19.879 382.914 19.776 382.811 19.673C382.502 19.364 382.193 19.055 381.884 18.849C381.781 18.746 381.678 18.643 381.575 18.54C381.163 18.128 380.751 17.819 380.339 17.407H380.236C379.824 17.098 379.412 16.789 379 16.377C378.897 16.274 378.691 16.171 378.588 16.068C378.279 15.862 377.97 15.553 377.661 15.347C377.455 15.244 377.352 15.141 377.249 15.038C376.837 14.729 376.528 14.523 376.116 14.214C376.013 14.214 375.91 14.111 375.91 14.008C375.395 13.699 374.983 13.39 374.468 13.081C374.365 13.081 374.262 12.978 374.159 12.875C373.85 12.669 373.438 12.36 373.129 12.154C372.923 12.051 372.82 11.948 372.614 11.948C372.305 11.639 371.893 11.433 371.584 11.227C371.481 11.124 371.378 11.021 371.275 11.021C370.76 10.712 370.245 10.403 369.833 10.197C369.73 10.094 369.627 10.094 369.524 9.991C369.112 9.785 368.7 9.579 368.391 9.373C368.185 9.27 367.979 9.167 367.876 9.064C367.464 8.858 367.155 8.652 366.743 8.446C366.64 8.446 366.537 8.343 366.331 8.24C365.919 8.034 365.404 7.725 364.889 7.519H364.786C364.271 7.313 363.859 7.004 363.344 6.798C363.241 6.798 363.035 6.695 362.829 6.592C362.52 6.489 362.108 6.283 361.799 6.077C361.593 6.077 361.49 5.974 361.284 5.974C360.769 5.768 360.357 5.562 359.842 5.356L359.739 5.253C351.087 1.854 341.714 0 331.929 0H295.158C253.237 0 219.041 34.299 219.041 76.22V124.012C219.041 126.381 219.144 128.75 219.35 131.119C219.144 134.93 219.041 138.844 219.041 142.861V257.603C218.938 395.623 117.174 463.706 0.783997 412.206Z" fill="#FEFEFE" />
          </svg>
        </div>
      </div>

      <div className="login-container">
        <div className="login-box">
          <h1 className="login-title">Entrar</h1>
          <button onClick={handleLogin} className="login-button">
            <svg className="google-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 22">
              <path d="M21.0009 10.833C21.0009 9.96998 20.9289 9.33997 20.7739 8.68597H10.715V12.583H16.6199C16.5009 13.551 15.858 15.01 14.429 15.99L14.4089 16.12L17.59 18.535L17.8099 18.556C19.8339 16.725 21.0009 14.03 21.0009 10.833Z" fill="#4285F4"/>
              <path d="M10.7139 21.1C13.6069 21.1 16.035 20.167 17.809 18.557L14.4279 15.99C13.5229 16.608 12.3089 17.04 10.7139 17.04C7.88093 17.04 5.47596 15.208 4.61896 12.677L4.49292 12.687L1.18591 15.195L1.14294 15.313C2.90394 18.743 6.52293 21.1 10.7139 21.1Z" fill="#34A853"/>
              <path d="M4.62091 12.677C4.39491 12.023 4.26392 11.323 4.26392 10.6C4.26392 9.87698 4.39495 9.17698 4.60895 8.52298L4.60297 8.38397L1.25397 5.83597L1.14496 5.88696C0.418958 7.30996 0.00195312 8.90798 0.00195312 10.6C0.00195312 12.292 0.418958 13.89 1.14496 15.313L4.62091 12.677Z" fill="#FBBC05"/>
              <path d="M10.7139 4.15997C12.7259 4.15997 14.0829 5.01196 14.8569 5.72296L17.8809 2.82999C16.0239 1.13799 13.6069 0.0999756 10.7139 0.0999756C6.52393 0.0999756 2.90394 2.45696 1.14294 5.88696L4.60693 8.52298C5.47593 5.99198 7.88093 4.15997 10.7139 4.15997Z" fill="#EB4335"/>
            </svg>
            Entrar com Google
          </button>
        </div>
      </div>
    </div>
  );
}
